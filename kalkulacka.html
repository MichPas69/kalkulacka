<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Kalkulačka – Plyn vs. Tepelné čerpadlo</title>
  <style>
    :root{
      --brand:#D60000;
      --dark:#111;
      --bg:#F6F7F9;
    }
    html,body{
      margin:0;
      padding:0;
      font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;
      background:#fff;
      color:#111
    }
    .wrap{
      max-width:1100px;
      margin:28px auto;
      padding:0 16px
    }
    .frame{
      background:#fff;
      border:1px solid #e6e6e6;
      border-radius:16px;
      box-shadow:0 6px 24px rgba(0,0,0,.06);
      padding:20px
    }
    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:16px
    }
    @media(min-width:980px){
      .grid{grid-template-columns:1fr 1fr}
    }
    .card{
      background:#fff;
      border:1px solid #eee;
      border-radius:14px;
      padding:16px
    }
    h2{
      font-size:18px;
      margin:.2em 0 .6em
    }
    label{
      display:block;
      font-weight:700;
      margin-top:10px
    }
    input[type="number"], select{
      width:100%;
      padding:10px;
      border:1px solid #ddd;
      border-radius:10px;
      font-size:15px;
      margin-top:4px
    }
    .muted{
      color:#666;
      font-size:13px
    }
    table{
      width:100%;
      border-collapse:collapse
    }
    th,td{
      padding:10px;
      border-bottom:1px solid #eee;
      text-align:left
    }
    tfoot td{
      font-weight:800
    }
    .right{text-align:right}
    .total{font-size:20px}
    .kpi{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
      margin-top:12px
    }
    .kpi .box{
      background:var(--bg);
      border:1px solid #e8e8e8;
      border-radius:12px;
      padding:12px
    }
    .kpi .box b{
      display:block;
      font-size:12px;
      color:#555
    }
    .kpi .box span{
      font-size:20px;
      font-weight:800
    }
    .cta{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap
    }
    .btn{
      background:var(--brand);
      border:none;
      color:#fff;
      padding:10px 14px;
      border-radius:10px;
      font-weight:800;
      text-transform:uppercase;
      cursor:pointer
    }
    .btn.secondary{background:#444}
    @media print{
      .cta, .card input, .card select {display:none !important;}
      .grid{grid-template-columns:1fr !important}
      .wrap{max-width:900px}
      .frame{box-shadow:none;border:1px solid #ddd}
      .kpi .box{background:#fff}
      a{color:inherit;text-decoration:none}
    }
  </style>

  <!-- knižnice pre PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
</head>

<body>
  <div class="wrap">
    <div class="frame" id="exportArea">
      <div class="grid">
        <!-- PLYN -->
        <div class="card">
          <h2>1) Plyn – vstupy</h2>
          <label>Ročná spotreba plynu (m³)</label>
          <input id="gas_m3" type="number" min="0" step="1" value="1500">
          <div class="muted">Bežný rodinný dom: ~1200–2000 m³/rok</div>
          <label>Spodná výhrevnosť (kWh/m³)</label>
          <input id="calorific" type="number" min="8" max="12" step="0.1" value="10.5">
          <div class="muted">Typicky 10.2–10.8 kWh/m³</div>
          <label>Účinnosť kotla (%)</label>
          <input id="boiler_eff" type="number" min="50" max="105" step="1" value="90">
          <div class="muted">Kondenzačný kotol 88–98 %</div>
          <label>Cena plynu (€/m³)</label>
          <input id="gas_price" type="number" min="0" step="0.01" value="0.75">
          <label>Fixný mesačný poplatok plynu (€/mes.)</label>
          <input id="gas_fixed" type="number" min="0" step="0.01" value="5">
        </div>

        <!-- TČ -->
        <div class="card">
          <h2>2) Tepelné čerpadlo – vstupy</h2>
          <label>SCOP/COP</label>
          <select id="scop">
            <option value="2.8">2.8</option>
            <option value="3.2" selected>3.2</option>
            <option value="3.6">3.6</option>
            <option value="4.0">4.0</option>
          </select>
          <label>Cena elektriny (€/kWh)</label>
          <input id="elec_price" type="number" min="0" step="0.001" value="0.18">
          <label>Pokrytie FVE pre TČ (%)</label>
          <input id="pv" type="number" min="0" max="100" step="5" value="20">
          <div class="muted">Percento elektriny pre TČ pokryté fotovoltikou</div>
          <label>Investícia do TČ (€, voliteľné)</label>
          <input id="hp_invest" type="number" min="0" step="100" value="0">
          <label>Dotácia na TČ (€, voliteľné)</label>
          <input id="hp_subsidy" type="number" min="0" step="50" value="0">
        </div>

        <!-- VÝSLEDOK -->
        <div class="card" style="grid-column:1/-1">
          <h2>Výsledok</h2>
          <div class="kpi">
            <div class="box"><b>Plyn – energia</b><span id="gas_kwh">0 kWh</span></div>
            <div class="box"><b>Užitočné teplo</b><span id="heat_kwh">0 kWh</span></div>
            <div class="box"><b>TČ – el. spotreba</b><span id="hp_kwh">0 kWh</span></div>
          </div>
          <table style="margin-top:12px">
            <tbody id="rows"></tbody>
            <tfoot>
              <tr><td><b>Ročné náklady plynu (spolu)</b></td><td class="right" id="gas_total">0 €</td></tr>
              <tr><td><b>Ročné náklady TČ (spolu)</b></td><td class="right" id="hp_total">0 €</td></tr>
              <tr><td class="total">Ročná úspora s TČ</td><td class="right total" id="savings">0 €</td></tr>
            </tfoot>
          </table>
          <div class="kpi" style="grid-template-columns:1fr;margin-top:10px">
            <div class="box"><b>Odhad návratnosti investície</b><span id="payback_ui">–</span></div>
          </div>
          <div class="cta" id="buttonsRow">
            <button class="btn" id="pdfBtn" style="background:#0B5;">Stiahnuť PDF</button>
            <button class="btn secondary" id="resetBtn">Reset</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tu ide JavaScript -->
  <script>
    // celý JS kód sem (rovnako ako v pôvodnej verzii)
  </script>
</body>
</html>
